global def blockOMCSifiveRoot = simplify "{here}/.."

global def omcScalaModule =
  def name = "omc"
  def rootDir = "{blockOMCSifiveRoot}/craft/lpddr4_ctrl"
  def scalaVersion = sifiveSkeletonScalaModule.getScalaModuleScalaVersion
  def deps = sifiveBlocksScalaModule, sifiveSkeletonScalaModule, Nil
  makeScalaModule name rootDir scalaVersion
  | setScalaModuleSourceDirs ("src", Nil)
  | setScalaModuleDeps deps
  | setScalaModuleScalacOptions ("-Xsource:2.11", Nil)

global def omcBlock =
  def scalaModule = omcScalaModule
  def config = "samsung.com.blocks.omc.WithomcTop"
  makeScalaBlock scalaModule config

publish dutSimCompileOptionsHooks = hook, Nil
def hook dut =
  if dut.getDUTName ==~ "omcDUT"
  then
    def optionsTransform options =
      options
      | editDUTSimCompileOptionsSourceFiles (
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_types.svh",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ORBIT_interface.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/orbit_payload_assign.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/CDAS_SingleDestPerID.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/WafterAW.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/RegisterSlice.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/lru_arbiter.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ARAW_arbiter.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ARAW_decoder.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/a_and_w_arbiter_nx1.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/a_and_w_decoder_1xn.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/r_and_b_arbiter_nx1.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/r_and_b_decoder_1xn.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/hxi_decoder_1xn.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/hxi_arbiter_nx1.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/bus_mux.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_id_reducer.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_ahb_to_ahb.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_ahb_partial_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_ahb_retry.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi2ahb_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi2ahb.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi2ahb_lite.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_ahb2axi.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_ahb_lite2axi.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_hxi2apb.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi2apb.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_apb2axi.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_apb_async.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_apb_tz_control.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/lda_dl_2x2_feedback.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/RS_AWRB.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/MO_counter.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/serdes.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/cg_unit.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/orbit_pmu.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/micro_pmu.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/qch_slave.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/micro_cmu.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/qos.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/latency_monitor_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/q_peak_latency_monitor.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/timeout_monitor_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/timeout_monitor.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/single_depth_fifo.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ORBIT_IC_axi_to_hxi.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_dnsizer_req_ch.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_dnsizer_rdata_ch.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_dnsizer_wdata_ch.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_dnsizer_bresp_ch.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_hxi_downsizer.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_upsizer_req_ch.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_upsizer_rdata_ch.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_upsizer_wdata_ch.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_upsizer_bresp_ch.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_upsizer_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_upsizer_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_hxi_upsizer_req_ch.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_hxi_upsizer_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_hxi_upsizer_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_hxi_upsizer_top.new.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ORBIT_cr_hxi_if.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/cr_slave.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/HXI_flush.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/LPI_slave.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/lda_rs_unit.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/gray_counter.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/LDA_TX.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/LDA_RX.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/AsyncFIFO.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_async.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/lda_rs.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/lda_vc3in1.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/lda_si.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/lda_mi.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/lda_hxi_tx.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/lda_hxi_tl_tx.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/lda_hxi_rx.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/at_speed_test.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/hxi_default_slave.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/interrupt_register.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/hxi_bus_event_mon_cnt.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/evemon.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/fire_door.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_secded_unit.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_secded.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/sngl_slv.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/sngl_slv_id.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ar_ch_1slv_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ar_ch_1slv_top_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ar_ch_1slv_id_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ar_ch_1slv_id_top_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/aw_ch_1slv_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/aw_ch_1slv_top_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/aw_ch_1slv_id_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/aw_ch_1slv_id_top_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/req_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ar_ch_cdas_bypass_top_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/r_ch_rlast_remover.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/aw_ch_cdas_bypass_top_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/b_ch_resp_merger.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/b_ch_resp_merger_with_rb.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/multi_destination_flag.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_req_reshaper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_wdata_reshaper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_reshaper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/sram_model.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/simple_fifo.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/fifo_for_sync_clk.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/free_list_box.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ar_ch_blk_gen.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ar_ch_rb_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ar_ch_rb_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ar_ch_rb_top_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/s_node_ar_ch_rb_top_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/aw_ch_ex_blk_gen.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/aw_ch_rb_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/aw_ch_rb_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/aw_ch_rb_top_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/s_node_aw_ch_rb_top_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/r_ch_rb_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/r_ch_rb_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/skid_buffer_for_dual_spsram.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/r_ch_rb_core_with_multi_sram.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/r_ch_rb_core_with_multi_sram.dis_interleave.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/r_ch_exid_cnvtr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/r_ch_rb_top_with_multi_sram.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/b_ch_rb_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/b_ch_exid_cnvtr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/b_ch_rb_top_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/aw_w_sync_compact.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/c_node_qos_override_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/c_node_user_override_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/c_node_cr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/c_node_cr_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/s_node_tzp.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/s_node_wid_generator.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/ar_ch_no_id_remap_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/aw_ch_no_id_remap_with_chopper.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/s_node_cr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/s_node_cr_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_custom_bridge.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_fpga_dbg.sv",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/debug_info_string.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_debug_utils.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_axi_protocol_chk.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_cfg.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/oic_sifive_sesame.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/addr_dec_dom_cog__cnd_axi_m0.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/route_info_dom_cog__cnd_axi_m0.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_m0_ar_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_m0_r_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_m0_aw_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_m0_w_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_m0_b_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_m0_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_m0_cg.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_m0_cg_addr_dec.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_m0.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/addr_dec_dom_cog__snd_axi_s0.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/route_info_dom_cog__snd_axi_s0.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_s0_define.svh",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_s0_addr_mgr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_s0_ar_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_s0_r_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_s0_aw_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_s0_w_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_s0_b_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_s0_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_s0.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/addr_dec_dom_cog__cnd_axi_ctl.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/route_info_dom_cog__cnd_axi_ctl.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_ctl_ar_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_ctl_r_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_ctl_aw_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_ctl_w_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_ctl_b_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_ctl_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_ctl_cg.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_ctl_cg_addr_dec.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__cnd_axi_ctl.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/addr_dec_dom_cog__snd_axi_ctl.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/route_info_dom_cog__snd_axi_ctl.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_ctl_define.svh",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_ctl_addr_mgr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_ctl_ar_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_ctl_r_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_ctl_aw_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_ctl_w_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_ctl_b_top.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_ctl_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dom_cog__snd_axi_ctl.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/axi_pkg.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_pkg.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dfi_pkg.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/cr_pkg.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/dfi_if.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/cr_if.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/axi_if.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/maxi_if.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/scr_pkg.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/axi_scr_if.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_reg_pkg.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_secure_reg_pkg.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_dfi_converter.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_dfi_mesosync.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_dfi_asyncfifo.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_phyupd_mux.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_train_en_ctrl.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_asyncfifo.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_axi_maxi.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_oldest_selector.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_page_table.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_request_queue.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_request_arbiter.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_write_request_queue.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_write_request_arbiter.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_pclk_gate.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_apb_sync.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_control_interface.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_apb_control.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_apb_secure_control.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_secure_cr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_nonsecure_cr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_bus_interface.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_exclusive_monitor.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_decoder.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_asp_cr_async.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_asp.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_ecc_addr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_write_request_fifo.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_wdq.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_wch_fifo.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_read_controller.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_rdq.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_qos.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_axi_async.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_axi_lda_tx.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_axi_lda_rx.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_axi_lda_rs.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_axi_asyncfifo.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_gray_counter.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_scr_cr_async.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_scr_addr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_scr_pipeline.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_scr_key_rnd.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_scr_data_rnd.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_scr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_scr_enc.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_scr_dec.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_scr_addr_restore.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_fsecc_addr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_fsecc.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_fsecc_dec.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_fsecc_dec_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_fsecc_enc.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_fsecc_enc_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_fsecc_pb.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_fsecc_pb_read_control.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_fsecc_pb_write_control.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_phy_interface.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_phy_control_interface.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_parity.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_phy_cs_to_ca_latency.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_phy_train_interface.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_phy_write_controller.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_phy_read_controller.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_phy_retimer.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_phy_lp_interface.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_phy_upd_interface.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_ecc_encode.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_ecc_decode.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_pwr_controller.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_pwr_pch.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_pwr_dfs.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_pwr_rcg.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_pwr_pwrmode.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_device_monitor_bank.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_device_monitor_rank.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_device_monitor_rank_bank.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_device_monitor.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_scheduler.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_scheduler_fsm.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_monitor.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_auto_refresh_controller.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_sref_pwdn_controller.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_sref_pwdn_controller_rank.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_zq_calibrator.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_page_policy_manager.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_precharge_controller.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_training_controller.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_clk_controller.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_mgr_req_arbiter.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_pwr_pd_ctrl_si.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_pwr_pd_ctrl_mi.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_secure_preproc_cr.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_preproc_clk_controller.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_preproc_core.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc.svp",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/omc_wrapper.sv",
        source "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs/orbit_library.sv",
        _
      )
      | editDUTSimCompileOptionsIncludeDirs (
        "{blockOMCSifiveRoot}/rtl/lpddr4_ctrl/vcs",
        _
      )
    Some optionsTransform
  else None

global def demo =
  def programName = "demo"
  def cFiles = source "{blockOMCSifiveRoot}/tests/demo/main.c", Nil
  makeTestProgramPlan programName cFiles

global def omcDUT =
  def name = "omcDUT"
  def blocks = omcBlock, Nil
  makeTestSocketDUT name blocks

global def omcVC707DUT =
  def name = "omcVC707DUT"
  def blocks = omcBlock, Nil
  def frequency = 50
  makeVC707TestSocketDUT name frequency blocks

publish dutTests = demoMifTest, Nil

global def demoMifTest =
  def name = "demo"
  def block = omcBlock
  def program = demo
  def plusargs =
    NamedArg        "verbose",
    NamedArgInteger "random_seed"      1234,
    NamedArgInteger "tilelink_timeout" 16000,
    NamedArgInteger "max-cycles"       5000000,
    Nil
  makeBlockTest name block program plusargs

publish vivadoVsrcHooks =
  def makeSource file _ = source file, Nil
  makeBlackBoxHook "omc" "{blockOMCSifiveRoot}/rtl/lpddt4_ctrl/omc.svp".makeSource,
  Nil

publish vcsDUTSimCompileOptionsHooks = omcVCSHook, Nil

def omcVCSHook =
  def name = "omc"
  def optionsTransform options =
    options
    | editPrivateVCSDUTSimCompileOptionsExtraArgs (
      NamedArgString "-top" "omc", _
    )
  makeBlackBoxHook name optionsTransform
